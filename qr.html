<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: '#ff7949',
            brandDark: '#132d48',
          }
        }
      }
    }
  </script>

  <title>패스오더 매장 확인</title>
</head>

<body class="bg-white flex flex-col items-center px-6 py-10">

  <!-- 로고 -->
  <img src="./assets/logo.png" alt="Passorder Logo" class="w-32 mb-6" />

  <!-- 헤더 문구 -->
  <h1 class="text-2xl font-bold text-brandDark text-center mb-3">
    사장님, QR을 스캔해주세요
  </h1>

  <!-- 설명 문구 -->
  <p class="text-gray-700 text-center mb-8 leading-relaxed">
    패스오더 도입 안내를 위한 간단한 확인 절차입니다.<br>
    아래의 QR을 카메라로 스캔해주세요.
  </p>

  <!-- QR 이미지 자리 -->
  <img id="qr-img"
       class="w-56 h-56 border border-gray-300 rounded-md shadow-md"
       alt="QR Code" />

  <!-- JS: UTM 읽기 + QR 생성 -->
  <script>
    const params = new URLSearchParams(location.search);
    const uid = params.get("uid") || "unknown";
    const variant = params.get("variant") || "A";

    // GAS 스캔 기록 URL (나중에 WEBAPP_ID 넣으면 됨)
    const scanUrl =
      `https://script.google.com/macros/s/WEBAPP_ID/exec?uid=${uid}&variant=${variant}`;

    // QR 이미지 자동 생성
    document.getElementById("qr-img").src =
      `https://api.qrserver.com/v1/create-qr-code/?size=240x240&data=${encodeURIComponent(scanUrl)}`;
  </script>

</body>
</html>
